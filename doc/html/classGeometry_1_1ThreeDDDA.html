<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GEL: Geometry::ThreeDDDA Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GEL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceGeometry.html">Geometry</a></li><li class="navelem"><a class="el" href="classGeometry_1_1ThreeDDDA.html">ThreeDDDA</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classGeometry_1_1ThreeDDDA-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Geometry::ThreeDDDA Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="classGeometry_1_1ThreeDDDA.html" title="A ThreeDDDA is a class for traversing a grid of cells.">ThreeDDDA</a> is a class for traversing a grid of cells.  
 <a href="classGeometry_1_1ThreeDDDA.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab1cea5b5acee1c6bb57b84743cc14f74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#ab1cea5b5acee1c6bb57b84743cc14f74">ThreeDDDA</a> (const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> &amp;p0, const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> &amp;p1, int _PRECISION=0x100)</td></tr>
<tr class="memdesc:ab1cea5b5acee1c6bb57b84743cc14f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a 3DDDA based on the two end-points of the ray.  <a href="classGeometry_1_1ThreeDDDA.html#ab1cea5b5acee1c6bb57b84743cc14f74">More...</a><br /></td></tr>
<tr class="separator:ab1cea5b5acee1c6bb57b84743cc14f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07807fd3609858f3777388291c3b56f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#ae07807fd3609858f3777388291c3b56f">get_no_steps</a> () const</td></tr>
<tr class="memdesc:ae07807fd3609858f3777388291c3b56f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of steps the ray will traverse.  <a href="classGeometry_1_1ThreeDDDA.html#ae07807fd3609858f3777388291c3b56f">More...</a><br /></td></tr>
<tr class="separator:ae07807fd3609858f3777388291c3b56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a044b78968d92e7166f06e573c0ed6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCGLA_1_1Vec3i.html">CGLA::Vec3i</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#a76a044b78968d92e7166f06e573c0ed6">get_current_cell</a> () const</td></tr>
<tr class="memdesc:a76a044b78968d92e7166f06e573c0ed6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yields the current cell containing the ray.  <a href="classGeometry_1_1ThreeDDDA.html#a76a044b78968d92e7166f06e573c0ed6">More...</a><br /></td></tr>
<tr class="separator:a76a044b78968d92e7166f06e573c0ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b2309cde93092f770257640228e9f0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCGLA_1_1Vec3i.html">CGLA::Vec3i</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#aa8b2309cde93092f770257640228e9f0">get_first_cell</a> () const</td></tr>
<tr class="memdesc:aa8b2309cde93092f770257640228e9f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the initial cell containing the ray.  <a href="classGeometry_1_1ThreeDDDA.html#aa8b2309cde93092f770257640228e9f0">More...</a><br /></td></tr>
<tr class="separator:aa8b2309cde93092f770257640228e9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab287eb9ccd061abc32a06093f7972782"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCGLA_1_1Vec3i.html">CGLA::Vec3i</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#ab287eb9ccd061abc32a06093f7972782">get_last_cell</a> () const</td></tr>
<tr class="memdesc:ab287eb9ccd061abc32a06093f7972782"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last cell containing the ray.  <a href="classGeometry_1_1ThreeDDDA.html#ab287eb9ccd061abc32a06093f7972782">More...</a><br /></td></tr>
<tr class="separator:ab287eb9ccd061abc32a06093f7972782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048c2a1a4ff1fc5657932943a18479c5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#a048c2a1a4ff1fc5657932943a18479c5">get_first_point</a> () const</td></tr>
<tr class="memdesc:a048c2a1a4ff1fc5657932943a18479c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the initial point containing the ray.  <a href="classGeometry_1_1ThreeDDDA.html#a048c2a1a4ff1fc5657932943a18479c5">More...</a><br /></td></tr>
<tr class="separator:a048c2a1a4ff1fc5657932943a18479c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63aad64a9f56c242c59202fb8f40783"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#ac63aad64a9f56c242c59202fb8f40783">get_last_point</a> () const</td></tr>
<tr class="memdesc:ac63aad64a9f56c242c59202fb8f40783"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last cell containing the ray.  <a href="classGeometry_1_1ThreeDDDA.html#ac63aad64a9f56c242c59202fb8f40783">More...</a><br /></td></tr>
<tr class="separator:ac63aad64a9f56c242c59202fb8f40783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab33c213c96059a84e30757dd91947b90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#ab33c213c96059a84e30757dd91947b90">at_end</a> () const</td></tr>
<tr class="memdesc:ab33c213c96059a84e30757dd91947b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we have reached the last cell.  <a href="classGeometry_1_1ThreeDDDA.html#ab33c213c96059a84e30757dd91947b90">More...</a><br /></td></tr>
<tr class="separator:ab33c213c96059a84e30757dd91947b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c3ed0662230ef2fb90735d32411d79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#a22c3ed0662230ef2fb90735d32411d79">operator++</a> ()</td></tr>
<tr class="memdesc:a22c3ed0662230ef2fb90735d32411d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a step along the ray.  <a href="classGeometry_1_1ThreeDDDA.html#a22c3ed0662230ef2fb90735d32411d79">More...</a><br /></td></tr>
<tr class="separator:a22c3ed0662230ef2fb90735d32411d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed07815c048a10893ac85915a4ea769"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeometry_1_1ThreeDDDA.html#afed07815c048a10893ac85915a4ea769">step</a> ()</td></tr>
<tr class="memdesc:afed07815c048a10893ac85915a4ea769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the initial point containing the ray.  <a href="classGeometry_1_1ThreeDDDA.html#afed07815c048a10893ac85915a4ea769">More...</a><br /></td></tr>
<tr class="separator:afed07815c048a10893ac85915a4ea769"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classGeometry_1_1ThreeDDDA.html" title="A ThreeDDDA is a class for traversing a grid of cells.">ThreeDDDA</a> is a class for traversing a grid of cells. </p>
<p>We wish to enumerate all cells pierced by the ray going from a point p0 to a point p1. It is dangerous to use floating point arithmetic since rounding errors may accumulate entailing that the 3ddda misses the cell containing the end point of the ray.</p>
<p>Daniel Cohen-Or devised a technique for exact ray traversal using only integer arithmetic. Using integer arithmetic, the computations are exact, but the ray must start and terminate exactly at grid points. I.e. the ray must start and terminate in cell corners.</p>
<p>To overcome this issue, I have implemented a scheme where the ray starts and terminates on a grid that is finer than the cell grid. This means that we have fast and exact computations, and the ray can travel between two almost arbitrary points.</p>
<p>A central problem with this scheme was that - in order to simplify things during the iterative traversal - the ray direction vector is always mirrored into the first octant (+x +y +z). If the fine grid used for the ray start and end points is a superset of the grid points of the cell grid, this mirroring is almost impossible to implement correctly. This is due to the fact that the first cell on the right side of the y axis is called 0,y whereas the first cell on the left is called -1,y. This lack of symmetry makes things very difficult, but by ensuring that the endpoints of a ray can never lie on an a corner, edge, or face of the cell grid, we can make the problems go away.</p>
<p>Hence, in this implementation, the fine grid is obtained by dividing the cell into NxNxN subcells, but the grid points of the fine grid lie at the CENTRES of these subcells. <br  />
 </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab1cea5b5acee1c6bb57b84743cc14f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cea5b5acee1c6bb57b84743cc14f74">&#9670;&nbsp;</a></span>ThreeDDDA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Geometry::ThreeDDDA::ThreeDDDA </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> &amp;&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> &amp;&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_PRECISION</em> = <code>0x100</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a 3DDDA based on the two end-points of the ray. </p>
<p>An optional last argument indicates the resolution of the grid. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab33c213c96059a84e30757dd91947b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab33c213c96059a84e30757dd91947b90">&#9670;&nbsp;</a></span>at_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Geometry::ThreeDDDA::at_end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if we have reached the last cell. </p>

</div>
</div>
<a id="a76a044b78968d92e7166f06e573c0ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a044b78968d92e7166f06e573c0ed6">&#9670;&nbsp;</a></span>get_current_cell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGLA_1_1Vec3i.html">CGLA::Vec3i</a>&amp; Geometry::ThreeDDDA::get_current_cell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Yields the current cell containing the ray. </p>

</div>
</div>
<a id="aa8b2309cde93092f770257640228e9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b2309cde93092f770257640228e9f0">&#9670;&nbsp;</a></span>get_first_cell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGLA_1_1Vec3i.html">CGLA::Vec3i</a>&amp; Geometry::ThreeDDDA::get_first_cell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the initial cell containing the ray. </p>

</div>
</div>
<a id="a048c2a1a4ff1fc5657932943a18479c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048c2a1a4ff1fc5657932943a18479c5">&#9670;&nbsp;</a></span>get_first_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> Geometry::ThreeDDDA::get_first_point </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the initial point containing the ray. </p>

</div>
</div>
<a id="ab287eb9ccd061abc32a06093f7972782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab287eb9ccd061abc32a06093f7972782">&#9670;&nbsp;</a></span>get_last_cell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGLA_1_1Vec3i.html">CGLA::Vec3i</a>&amp; Geometry::ThreeDDDA::get_last_cell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the last cell containing the ray. </p>

</div>
</div>
<a id="ac63aad64a9f56c242c59202fb8f40783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac63aad64a9f56c242c59202fb8f40783">&#9670;&nbsp;</a></span>get_last_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> Geometry::ThreeDDDA::get_last_point </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the last cell containing the ray. </p>

</div>
</div>
<a id="ae07807fd3609858f3777388291c3b56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07807fd3609858f3777388291c3b56f">&#9670;&nbsp;</a></span>get_no_steps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Geometry::ThreeDDDA::get_no_steps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the total number of steps the ray will traverse. </p>

</div>
</div>
<a id="a22c3ed0662230ef2fb90735d32411d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c3ed0662230ef2fb90735d32411d79">&#9670;&nbsp;</a></span>operator++()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Geometry::ThreeDDDA::operator++ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take a step along the ray. </p>

</div>
</div>
<a id="afed07815c048a10893ac85915a4ea769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed07815c048a10893ac85915a4ea769">&#9670;&nbsp;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGLA_1_1Vec3f.html">CGLA::Vec3f</a> Geometry::ThreeDDDA::step </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the initial point containing the ray. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ThreeDDDA_8h_source.html">ThreeDDDA.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
